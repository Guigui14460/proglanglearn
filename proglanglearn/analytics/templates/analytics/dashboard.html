{% extends 'analytics/base_analytic.html' %}
{% load static i18n js %}

{% block title %}{% trans "Tableau de bord" %} - {% endblock title %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'style/css/Chart.min.css' %}">
{% endblock extra_head %}

{% block main %}
<h1 class="large">{% trans "Tableau de bord" %}</h1>
<div class="my-2">
    <div style="position: relative; width: 100%; height: auto;">
        <canvas id="chart1"></canvas>
    </div>
</div>
<div class="my-1">
    {{ strike|safe }}
</div>
{% endblock main %}

{% block javascript %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
<script src="{% static 'js/Chart.min.js' %}"></script>
<script src="{% static 'js/utils.js' %}"></script>
{% endblock javascript %}

{% block jquery %}
var color = Chart.helpers.color;
var barChartData = {
    labels: {{ label|js }},
    datasets: [{
        label: 'Expérience',
        backgroundColor: color(window.chartColors.orange).alpha(0.5).rgbString(),
        borderColor: window.chartColors.orange,
        borderWidth: 1,
        data: {{ data|js }},
    }]
}

window.onload = function () {
    var ctx1 = $('#chart1');
    window.myBar = new Chart(ctx1, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                display: false,
            },
            title: {
                text: 'Expérience gained',
                display: true,
                position: 'top',
                fontSize: 17,
            },
        }
    });
};
{% endblock jquery %}
{% comment %} <script src="{% static 'js/jquery.easypiechart.min.js' %}"></script> {% endcomment %}


{% comment %} {% block jquery %}
$('.chart').easyPieChart({
    easing: 'easeOutBounce',
    barColor: "#1780e8",
    lineWidth: 12,
    size: 160,
    scaleColor: false,
    trackColor: '#a0a0a0',
    lineCap: 'circle',
    animate: 1150,
});
{% endblock jquery %} {% endcomment %}
