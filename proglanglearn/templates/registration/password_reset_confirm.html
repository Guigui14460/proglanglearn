{% extends 'base.html' %}
{% load i18n static %}

{% block title %}{% trans 'Réinitialisation' %} - {% endblock title %}

{% block main %}
<h1 class="large">{% trans 'Réinitialiser mon mot de passe' %}</h1>
{% if validlink %}
    <p class="lead">{% trans "Saisissez deux fois votre nouveau mot de passe afin de vérifier qu'il a correctement été saisi." %}</p>
    <form method="POST" class="form">
    {% csrf_token %}
        <div class="form-group">
            <div class="password">
                <label>{{ form.new_password1.label }} : <span class="required-input">*</span><br>
                {{ form.new_password1 }}</label>
                <input type="checkbox" id="showPWD">
                <label class="eye" for="showPWD"></label>
                <small class="form-text">
                    {{ form.new_password1.help_text }}
                </small>
            </div>
        </div>
        <div class="form-group">
            <div class="password">
                <label>{{ form.new_password2.label }} : <span class="required-input">*</span><br>
                {{ form.new_password2 }}</label>
                <input type="checkbox" id="showPWDConfirm">
                <label class="eye" for="showPWDConfirm"></label>
            </div>
            <small class="form-text">
                {{ form.password2.help_text }}
            </small>
        </div>
        {% blocktrans %}<small class="d-block mb-1">Tous les champs avec un <span class="required-input">*</span> sont obligatoires.</small>{% endblocktrans %}
        <div class="center-text">
            <button type="submit" class="btn btn__primary btn__large btn__300">{% trans 'Réinitialiser' %}</button>
        </div>
    </form>
{% else %}
    <p>{% trans "Le lien de réinitialisation est invalide, peut-être car il a déjà été utilisé. Faîtes plutôt une nouvelle demande avec le lien ci-dessus." %}</p>
    <div class="center-text">
        <a href="{% url 'accounts:password_reset' %}" class="btn btn__large btn__danger">{% trans 'Faire une autre demande' %}</a>
    </div>
{% endif %}
{% endblock main %}